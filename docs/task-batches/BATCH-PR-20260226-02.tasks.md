## Append: BATCH-PR-20260226-02

### Phase P1
1. [x] PR2-P1-01 (BATCH-PR-20260226-02) Target: `src/Protocol/Parser.php`, `src/Core/ClientOptions.php` | Make Parser max frame size configurable via `ClientOptions`; safe default; bounded caps. Acceptance: default supports large AMI payloads; cap still enforced; docs updated.
2. [x] PR2-P1-02 (BATCH-PR-20260226-02) Target: `tests/Unit/Protocol/*`, `tests/Integration/*`, `src/Protocol/Parser.php` | Add parser tests: large frame accepted under limit; oversize triggers controlled failure; parser recovers/no corruption. Acceptance: tests cover accept/reject paths and verify recovery after oversize frame.
3. [x] PR2-P1-03 (BATCH-PR-20260226-02) Target: `src/Correlation/CorrelationRegistry.php`, `src/Exceptions/*` | Fix CorrelationRegistry semantics: no synthetic success when response missing; allow only event-only strategies. Acceptance: missing response yields typed failure or timeout; synthetic response only for explicitly event-only strategies.
4. [x] PR2-P1-04 (BATCH-PR-20260226-02) Target: `tests/Unit/Correlation/*`, `tests/Integration/*`, `src/Correlation/CorrelationRegistry.php` | Add correlation tests: missing response => typed failure; event-only strategy completes without response (explicitly). Acceptance: tests assert missing response failures and event-only success path.

### Phase P2
1. [x] PR2-P2-01 (BATCH-PR-20260226-02) Target: `src/Core/Logger.php`, `src/Core/AmiClient.php`, `docs/*` | Standardize `queue_depth` logging (normalize to null and enforce in queue/backpressure logs). Acceptance: queue-related log entries consistently include `queue_depth` (or null) in documented categories.
2. [x] PR2-P2-02 (BATCH-PR-20260226-02) Target: `src/Core/SecretRedactor.php`, `src/Core/ClientOptions.php`, `config/*` | Expand/configure secret redaction policy; regex matching; `ClientOptions` injection. Acceptance: default redaction masks password/secret/token/auth/key patterns; policy is configurable.
3. [x] PR2-P2-03 (BATCH-PR-20260226-02) Target: `tests/Unit/Logging/*`, `tests/Unit/Core/*`, `src/Core/SecretRedactor.php` | Add redaction tests (password/token/auth/key fields and regex matches). Acceptance: tests cover key list and regex matching for redaction.
4. [x] PR2-P2-04 (BATCH-PR-20260226-02) Target: `src/Correlation/ActionIdGenerator.php`, `src/Core/ClientOptions.php` | Bound ActionID length with truncation+hash scheme; preserve uniqueness. Acceptance: generated ActionIDs are bounded; truncation preserves uniqueness via stable hash suffix.
5. [x] PR2-P2-05 (BATCH-PR-20260226-02) Target: `tests/Unit/Correlation/*`, `src/Correlation/ActionIdGenerator.php` | Add ActionID tests: long `server_key` produces bounded ActionID; uniqueness preserved across nodes. Acceptance: tests assert max length and uniqueness across different `server_key` inputs.