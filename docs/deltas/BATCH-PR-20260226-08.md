## Delta 2026-02-26 (BATCH-PR-20260226-08): Non-Blocking Invariant + Circuit Breaker + Logger Observability

### P1 - Tick loop non-blocking invariant is not enforced
- Problem description: Runtime paths allow blocking `stream_select` waits when non-blocking enforcement flags are disabled.
- Dialer impact: Blocking tick stalls event handling, timeout sweeps, and reconnect fairness under misconfiguration in 24/7 dialer workloads.
- Required invariant: Tick loop is fully non-blocking in production runtime paths.
- Concrete implementation direction: Remove production opt-out and clamp runtime timeouts to `0` in `AmiClientManager`, `Reactor`, and `TcpTransport`, or split dev/test blocking components so production classes cannot block.
- Tasks: PR8-P1-01

### P2 - Read-timeout failures are not recorded in circuit breaker
- Problem description: `recordReadTimeout()` schedules reconnects without recording circuit-breaker failure state.
- Dialer impact: Repeated read timeouts can churn reconnects without breaker dampening, weakening herd control.
- Required invariant: Read-timeout failures are recorded and influence circuit-breaker state transitions.
- Concrete implementation direction: Add `recordCircuitFailure('read_timeout')` in `recordReadTimeout()` and ensure logging/metrics parity with other failure modes.
- Tasks: PR8-P2-01

### P2 - Logger sink drops lack structured warning logs
- Problem description: Logger drop conditions increment metrics but emit no structured warning logs for sink drops.
- Dialer impact: Operators relying on logs miss active log-loss conditions during incidents.
- Required invariant: Logger sink drops emit structured, throttled warning logs with context (server key, queue depth, reason) in addition to metrics.
- Concrete implementation direction: Emit throttled warnings for `capacity_exceeded`, `sink_exception`, and `sink_write_failed` with structured fields and keep metric counters.
- Tasks: PR8-P2-02

### P3 - Logger sink queue uses O(n) dequeue
- Problem description: `array_shift()` in sink drain loop creates O(n) reindexing cost under logging bursts.
- Dialer impact: Avoidable CPU cost under sustained logging can degrade throughput.
- Required invariant: Logger sink queue uses O(1) dequeue behavior under sustained logging.
- Concrete implementation direction: Replace array queue with `SplQueue` (or head-index ring buffer) to avoid reindexing.
- Tasks: PR8-P3-01

### P3 - PendingAction fallback telemetry bypasses PSR-3 logger
- Problem description: Fallback exception telemetry uses `error_log` directly.
- Dialer impact: Missing structured logging, redaction, and consistent context during callback failures.
- Required invariant: PendingAction fallback telemetry uses PSR-3 logging path.
- Concrete implementation direction: Inject PSR-3 logger into `PendingAction` (or route via correlation registry logger) for fallback exception telemetry.
- Tasks: PR8-P3-02

New/Updated Invariants:
- Tick loop is fully non-blocking in production runtime paths.
- Read-timeout failures influence circuit-breaker state transitions.
- Logger sink drops emit structured, throttled warnings in addition to metrics.
- Logger sink queue uses O(1) dequeue behavior.
- PendingAction fallback telemetry uses PSR-3 logger path.