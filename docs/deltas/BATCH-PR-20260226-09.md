## Delta 2026-02-26 (BATCH-PR-20260226-09): Cadence + Timeout Contract + Config Validation + Hostname Support + Endpoint Policy

### P1 - Worker cadence controls are effectively disabled (hot-spin risk)
- Problem description: The `ami:listen` worker loop runs without honoring any bounded wait window, resulting in a tight spin (`while (true)` with timeout clamped to `0`).
- Dialer impact: Sustained CPU hot-spin in 24/7 deployments, reduced headroom during reconnect storms, and avoidable resource contention on multi-tenant dialer hosts.
- Required invariant: Worker loop cadence is bounded and configurable; idle loops must not hot-spin.
- Concrete implementation direction: Introduce an explicit cadence strategy in the worker layer that honors a bounded timeout or idle-yield policy with production defaults; ensure the cadence hook is unit-tested and validated at startup.
- Tasks: PR9-P1-01

### P2 - `timeoutMs` API contract is misleading (ignored end-to-end)
- Problem description: Public `tick(timeoutMs)` APIs accept a timeout but runtime clamps it to `0`, so the caller-supplied wait window is ignored.
- Dialer impact: Operators expect cadence control or blocking semantics that never occur, making tuning unreliable and causing incorrect operational assumptions.
- Required invariant: Timeout semantics are explicit and consistent across interface, manager, and command layers (honored or rejected deterministically).
- Concrete implementation direction: Either honor `timeoutMs` in safe runtime modes or remove/deprecate it and enforce always-non-blocking semantics; document and test the chosen contract end-to-end.
- Tasks: PR9-P2-01

### P2 - ConfigLoader cannot inject hostname resolver for non-IP endpoints
- Problem description: `ConfigLoader::load()` cannot accept a hostname resolver, so non-IP endpoints fail even when `enforce_ip_endpoints` is disabled.
- Dialer impact: Production configs using hostnames cannot bootstrap via the standard loader, increasing startup failure risk and configuration drift.
- Required invariant: When hostname endpoints are allowed, ConfigLoader must support resolver injection or pre-resolution before manager construction.
- Concrete implementation direction: Extend `ConfigLoader::load()` to accept a hostname resolver (or pre-resolve hostnames) and add integration tests that cover hostname bootstrapping.
- Tasks: PR9-P2-02

### P2 - Numeric option ranges are not validated at load time
- Problem description: Critical numeric settings (timeouts, budgets, queue limits) are accepted without range validation.
- Dialer impact: Invalid values can silently destabilize reconnect behavior, timeouts, and queue safety in production.
- Required invariant: All critical numeric options are range-validated with typed `InvalidConfigurationException` on invalid values.
- Concrete implementation direction: Add strict validation for reconnect attempts, timeouts, and capacity/buffer limits in `ClientOptions` and dependent constructors; include negative tests for invalid values.
- Tasks: PR9-P2-03

### P3 - `enforceIpEndpoints` flag does not change transport behavior
- Problem description: `TcpTransport` always rejects non-IP endpoints regardless of `enforceIpEndpoints` configuration.
- Dialer impact: Configuration ambiguity and false expectations about allowed endpoint types.
- Required invariant: Transport endpoint policy must reflect configuration; behavior must be explicit and tested.
- Concrete implementation direction: Either remove the flag and enforce IP-only behavior everywhere, or implement conditional behavior that accepts hostnames when allowed and cover it with tests.
- Tasks: PR9-P3-01

New/Updated Invariants:
- Worker loop cadence must be bounded and configurable (no hot-spin under idle conditions).
- Timeout contract must be explicit and consistent across API surfaces.
- ConfigLoader must support hostname resolution when hostnames are allowed.
- Critical numeric options are range-validated at load time with typed exceptions.
- Transport endpoint policy matches `enforceIpEndpoints` configuration.